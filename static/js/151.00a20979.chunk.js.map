{"version":3,"file":"static/js/151.00a20979.chunk.js","mappings":"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","sources":["../node_modules/userflow.js/src/userflow.ts","../node_modules/userflow.js/src/detect-browser-target.ts"],"sourcesContent":["import type {ConditionalKeys} from 'type-fest'\nimport {detectBrowserTarget} from './detect-browser-target'\n\n// `userflow` lives on the `window` object\ninterface WindowWithUserflow extends Window {\n  userflow?: Userflow\n\n  // Array of `[method, deferred?, args]` tuples\n  USERFLOWJS_QUEUE?: [string, Deferred | null, any[]][]\n\n  USERFLOWJS_ENV_VARS?: Record<string, any>\n}\n\n// userflow.js API\nexport interface Userflow {\n  _stubbed: boolean\n\n  load: () => Promise<void>\n\n  init: (token: string) => void\n\n  identify: (\n    userId: string,\n    attributes?: Attributes,\n    opts?: IdentifyOptions\n  ) => Promise<void>\n\n  identifyAnonymous: (\n    attributes?: Attributes,\n    opts?: IdentifyOptions\n  ) => Promise<void>\n\n  updateUser: (attributes: Attributes, opts?: IdentifyOptions) => Promise<void>\n\n  group: (\n    groupId: string,\n    attributes?: Attributes,\n    opts?: GroupOptions\n  ) => Promise<void>\n\n  updateGroup: (attributes: Attributes, opts?: GroupOptions) => Promise<void>\n\n  track(\n    name: string,\n    attributes?: EventAttributes,\n    opts?: TrackOptions\n  ): Promise<void>\n\n  isIdentified: () => boolean\n\n  start: (contentId: string, opts?: StartOptions) => Promise<void>\n\n  /**\n   * @deprecated Use `start` instead\n   */\n  startFlow: (contentId: string, opts?: StartOptions) => Promise<void>\n\n  /**\n   * @deprecated Use `start` instead\n   */\n  startWalk: (contentId: string, opts?: StartOptions) => Promise<void>\n\n  endAll: () => Promise<void>\n\n  /**\n   * @deprecated Use `endAll` instead\n   */\n  endAllFlows: () => Promise<void>\n\n  endChecklist: () => Promise<void>\n\n  openResourceCenter: () => void\n\n  closeResourceCenter: () => void\n\n  toggleResourceCenter: () => void\n\n  setResourceCenterLauncherHidden: (hidden: boolean) => void\n\n  getResourceCenterState: () => ResourceCenterState | null\n\n  reset: () => void\n\n  remount: () => void\n\n  // eslint-disable-next-line es5/no-rest-parameters\n  on(eventName: string, listener: (...args: any[]) => void): void\n\n  // eslint-disable-next-line es5/no-rest-parameters\n  off(eventName: string, listener: (...args: any[]) => void): void\n\n  setCustomInputSelector(customInputSelector: string | null): void\n\n  registerCustomInput(\n    cssSelector: string,\n    getValue?: (el: Element) => string\n  ): void\n\n  setCustomNavigate(customNavigate: ((url: string) => void) | null): void\n\n  setUrlFilter(urlFilter: ((url: string) => string) | null): void\n\n  setLinkUrlDecorator(linkUrlDecorator: ((url: string) => string) | null): void\n\n  setInferenceAttributeNames(attributeNames: string[]): void\n\n  setInferenceAttributeFilter(\n    attributeName: string,\n    filters: StringFilters\n  ): void\n\n  setInferenceClassNameFilter(filters: StringFilters): void\n\n  setScrollPadding(scrollPadding: ScrollPadding | null): void\n\n  setCustomScrollIntoView(scrollIntoView: ((el: Element) => void) | null): void\n\n  prepareAudio(): void\n\n  _setTargetEnv(targetEnv: unknown): void\n\n  setShadowDomEnabled(shadowDomEnabled: boolean): void\n\n  setPageTrackingDisabled(pageTrackingDisabled: boolean): void\n\n  setBaseZIndex(baseZIndex: number): void\n\n  setServerEndpoint(serverEndpoint: string | null | undefined): void\n\n  disableEvalJs(): void\n}\n\n// Helper types for userflow.js API\nexport interface Attributes {\n  [name: string]: AttributeLiteralOrList | AttributeChange\n}\n\ntype AttributeLiteral = string | number | boolean | null | undefined\ntype AttributeLiteralOrList = AttributeLiteral | AttributeLiteral[]\n\ninterface AttributeChange {\n  set?: AttributeLiteralOrList\n  set_once?: AttributeLiteralOrList\n  add?: string | number\n  subtract?: string | number\n  append?: AttributeLiteralOrList\n  prepend?: AttributeLiteralOrList\n  remove?: AttributeLiteralOrList\n  data_type?: AttributeDataType\n}\n\ntype AttributeDataType = 'string' | 'boolean' | 'number' | 'datetime' | 'list'\n\nexport type IdentifyOptions = {\n  signature?: string\n}\n\nexport interface GroupOptions {\n  signature?: string\n  membership?: Attributes\n}\n\nexport interface EventAttributes {\n  [name: string]: AttributeLiteral | EventAttributeChange\n}\n\ninterface EventAttributeChange {\n  set?: AttributeLiteral\n  data_type?: AttributeDataType\n}\n\nexport interface TrackOptions {\n  userOnly?: boolean\n}\n\nexport interface StartOptions {\n  once?: boolean\n}\n\nexport interface ResourceCenterState {\n  isOpen: boolean\n  hasChecklist: boolean\n  uncompletedChecklistTaskCount: number\n  unreadAnnouncementCount: number\n}\n\ninterface ScrollPadding {\n  top?: number\n  right?: number\n  bottom?: number\n  left?: number\n}\n\ntype StringFilter = ((className: string) => boolean) | RegExp\n\ntype StringFilters = StringFilter | StringFilter[]\n\ninterface Deferred {\n  resolve: () => void\n  reject: (e: any) => void\n}\n\n// If window.userflow has not been initalized yet, then stub all its methods, so\n// it can be used immediately, and load the Userflow.js script from CDN.\n// Support importing userflow.js with server-side rendering by attaching to an\n// empty object instead of `window`.\nvar w: WindowWithUserflow = typeof window === 'undefined' ? ({} as any) : window\nvar userflow = w.userflow\nif (!userflow) {\n  //\n  var urlPrefix = 'https://js.userflow.com/'\n\n  // Initialize as an empty object (methods will be stubbed below)\n  var loadPromise: Promise<void> | null = null\n  userflow = w.userflow = {\n    _stubbed: true,\n    // Helper to inject the proper Userflow.js script/module into the document\n    load: function (): Promise<void> {\n      // Make sure we only load Userflow.js once\n      if (!loadPromise) {\n        loadPromise = new Promise(function (resolve, reject) {\n          var script = document.createElement('script')\n          script.async = true\n          // Detect if the browser supports es2020\n          var envVars = w.USERFLOWJS_ENV_VARS || {}\n          var browserTarget =\n            envVars.USERFLOWJS_BROWSER_TARGET ||\n            detectBrowserTarget(navigator.userAgent)\n          if (browserTarget === 'es2020') {\n            script.type = 'module'\n            script.src =\n              envVars.USERFLOWJS_ES2020_URL || urlPrefix + 'es2020/userflow.js'\n          } else {\n            script.src =\n              envVars.USERFLOWJS_LEGACY_URL || urlPrefix + 'legacy/userflow.js'\n          }\n          script.onload = function () {\n            resolve()\n          }\n          script.onerror = function () {\n            document.head.removeChild(script)\n            loadPromise = null\n            var e = new Error('Could not load Userflow.js')\n            console.error(e.message)\n            reject(e)\n          }\n          document.head.appendChild(script)\n        })\n      }\n      return loadPromise\n    }\n  } as Userflow\n\n  // Initialize the queue, which will be flushed by Userflow.js when it loads\n  var q = (w.USERFLOWJS_QUEUE = w.USERFLOWJS_QUEUE || [])\n\n  /**\n   * Helper to stub void-returning methods that should be queued\n   */\n  var stubVoid = function (\n    // eslint-disable-next-line es5/no-rest-parameters\n    method: ConditionalKeys<Userflow, (...args: any[]) => void>\n  ) {\n    userflow![method] = function () {\n      var args = Array.prototype.slice.call(arguments)\n      userflow!.load()\n      q.push([method, null, args])\n    } as any\n  }\n\n  // Helper to stub promise-returning methods that should be queued\n  var stubPromise = function (\n    // eslint-disable-next-line es5/no-rest-parameters\n    method: ConditionalKeys<Userflow, (...args: any[]) => Promise<void>>\n  ) {\n    userflow![method] = function () {\n      var args = Array.prototype.slice.call(arguments)\n      userflow!.load()\n      var deferred: Deferred\n      var promise = new Promise<void>(function (resolve, reject) {\n        deferred = {resolve: resolve, reject: reject}\n      })\n      q.push([method, deferred!, args])\n      return promise\n    } as any\n  }\n\n  // Helper to stub methods that MUST return a value synchronously, and\n  // therefore must support using a default callback until Userflow.js is\n  // loaded.\n  var stubDefault = function (\n    method: ConditionalKeys<Userflow, () => any>,\n    returnValue: any\n  ) {\n    userflow![method] = function () {\n      return returnValue\n    }\n  }\n\n  // Methods that return void and should be queued\n  stubVoid('_setTargetEnv')\n  stubVoid('closeResourceCenter')\n  stubVoid('disableEvalJs')\n  stubVoid('init')\n  stubVoid('off')\n  stubVoid('on')\n  stubVoid('prepareAudio')\n  stubVoid('registerCustomInput')\n  stubVoid('remount')\n  stubVoid('reset')\n  stubVoid('setBaseZIndex')\n  stubVoid('setCustomInputSelector')\n  stubVoid('setCustomNavigate')\n  stubVoid('setCustomScrollIntoView')\n  stubVoid('setInferenceAttributeFilter')\n  stubVoid('setInferenceAttributeNames')\n  stubVoid('setInferenceClassNameFilter')\n  stubVoid('setResourceCenterLauncherHidden')\n  stubVoid('setScrollPadding')\n  stubVoid('setServerEndpoint')\n  stubVoid('setShadowDomEnabled')\n  stubVoid('setPageTrackingDisabled')\n  stubVoid('setUrlFilter')\n  stubVoid('setLinkUrlDecorator')\n  stubVoid('openResourceCenter')\n  stubVoid('toggleResourceCenter')\n\n  // Methods that return promises and should be queued\n  stubPromise('endAll')\n  stubPromise('endAllFlows') // deprecated\n  stubPromise('endChecklist')\n  stubPromise('group')\n  stubPromise('identify')\n  stubPromise('identifyAnonymous')\n  stubPromise('start')\n  stubPromise('startFlow') // deprecated\n  stubPromise('startWalk') // deprecated\n  stubPromise('track')\n  stubPromise('updateGroup')\n  stubPromise('updateUser')\n\n  // Methods that synchronously return and can be stubbed with default return\n  // values and are not queued\n  stubDefault('getResourceCenterState', null)\n  stubDefault('isIdentified', false)\n}\n\nexport default userflow!\n","type BrowserTarget = 'es2020' | 'legacy'\n\n/**\n * Returns `es2020` if the browser supports ES2020 features, `legacy` otherwise.\n *\n * It would be better to detect features, but there's no way to test e.g. if\n * dynamic imports are available in containing apps that may prevent `eval` via\n * their Content-Security-Policy.\n *\n * It's important that we don't mistake a legacy browser as es2020 (since that\n * may cause us to run an incompatible version), but it's okay to mistake an\n * es2020-capable browser and serve them the legacy version.\n *\n * The browser version numbers are based off of caniuse.com data of browsers\n * supporting ALL of the the following features:\n * - https://caniuse.com/es6-module-dynamic-import\n * - https://caniuse.com/mdn-javascript_operators_nullish_coalescing\n * - https://caniuse.com/mdn-javascript_operators_optional_chaining\n * - https://caniuse.com/bigint\n * - https://caniuse.com/mdn-javascript_builtins_promise_allsettled\n * - https://caniuse.com/mdn-javascript_builtins_globalthis\n * - https://caniuse.com/mdn-javascript_builtins_string_matchall\n */\nexport function detectBrowserTarget(agent: string): BrowserTarget {\n  var options: [RegExp, RegExp, number][] = [\n    // Edge. Can contain \"Chrome\", so must come before Chrome.\n    [/Edg\\//, /Edg\\/(\\d+)/, 80],\n    // Opera. Can contain \"Chrome\", so must come before Chrome\n    [/OPR\\//, /OPR\\/(\\d+)/, 67],\n    // Chrome. Can contain \"Safari\", so must come before Safari.\n    [/Chrome\\//, /Chrome\\/(\\d+)/, 80],\n    // Chrome on iOS. Can contain \"Safari\", so must come before Safari.\n    // I'm not sure exactly what the engine driving Chrome iOS is, but assuming\n    // it's based on iOS Safari, which hit v14 (that's es2020 compatible) on\n    // September 16, 2020, and CriOS apparently hit v100 in April 11, 2022, we\n    // just go with 100.\n    [/CriOS\\//, /CriOS\\/(\\d+)/, 100],\n    // Safari\n    [/Safari\\//, /Version\\/(\\d+)/, 14],\n    // Firefox\n    [/Firefox\\//, /Firefox\\/(\\d+)/, 74]\n  ]\n  for (var i = 0; i < options.length; i++) {\n    var option = options[i]\n    var browserRegExp = option[0]\n    var versionRegExp = option[1]\n    var minVersion = option[2]\n    if (!agent.match(browserRegExp)) {\n      // No this browser\n      continue\n    }\n    // Must be this browser, so version has to be found and be greater than\n    // minVersion, otherwise we'll fall back to `legacy`.\n    var versionMatch = agent.match(new RegExp(versionRegExp))\n    if (versionMatch) {\n      var version = parseInt(versionMatch[1], 10)\n      if (version >= minVersion) {\n        return 'es2020'\n      }\n    }\n    break\n  }\n  return 'legacy'\n}\n"],"names":["w","window","userflow","urlPrefix","loadPromise","_stubbed","load","Promise","resolve","reject","script","document","createElement","async","envVars","USERFLOWJS_ENV_VARS","USERFLOWJS_BROWSER_TARGET","agent","options","i","length","option","browserRegExp","versionRegExp","minVersion","match","versionMatch","RegExp","parseInt","detectBrowserTarget","navigator","userAgent","type","src","USERFLOWJS_ES2020_URL","USERFLOWJS_LEGACY_URL","onload","onerror","head","removeChild","e","Error","console","error","message","appendChild","q","USERFLOWJS_QUEUE","stubVoid","method","args","Array","prototype","slice","call","arguments","push","stubPromise","deferred","promise","stubDefault","returnValue","userflow$1"],"sourceRoot":""}